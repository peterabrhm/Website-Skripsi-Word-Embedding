{% extends "base.html" %}

{% block content %}
<h2>Search Results for "{{ query }}"</h2>

{% if results %}
    {% if results|length > 0 %}
        <p>Time taken to search: {{ search_time }} seconds</p>  
        <ul class="list-group mt-4">
            {% for result in results %}
            <li class="list-group-item">
                <h5>{{ result.book_name }}</h5>
                <p><strong>Author:</strong> {{ result.author_name }}</p>
                <p><strong>Chapter:</strong> {{ result.chapter_name }}</p>
                <p><strong>Similarity Score:</strong> {{ result.similarity }}</p>
                <p>{{ result.paragraph_content }}</p>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <div class="alert alert-warning mt-4" role="alert">
            Search was canceled or no results found for your query.
        </div>
    {% endif %}
    <a href="{{ url_for('index') }}" class="btn btn-secondary mt-3 new-search-try-again-btn">New Search</a>
{% else %}
    <div class="alert alert-warning mt-4" role="alert">
        No results found for your query.
    </div>
    <a href="{{ url_for('index') }}" class="btn btn-secondary mt-3 new-search-try-again-btn">Try Again</a>
{% endif %}
{% endblock %}
